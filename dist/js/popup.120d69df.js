(function(t){function e(e){for(var r,i,c=e[0],l=e[1],s=e[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={popup:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("0a3d")},"0224":function(t,e,n){},"0a3d":function(t,e,n){"use strict";n.r(e);var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[t.bookmarks.length>0?n("Search",{model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):t._e(),t.list.length>0?n("div",{staticClass:"bookmarks"},t._l(t.list,(function(e,r){return n("Bookmark",{key:"bookmark-"+e.id,attrs:{data:e,active:t.activeTab&&t.activeTab.youtubeId===e.youtubeId,playing:t.activeTab&&t.activeTab.playing},on:{open:function(e){t.activeTab&&t.scrollToItem(r)}}})})),1):t._e(),t.loaded&&(!t.bookmarks||t.bookmarks.length<=0||t.list.length<=0&&t.filter)?n("EmptyNotice",{attrs:{text:t.filter?"Search couldn't find any matching bookmarks.":"Your YouTube bookmarks list is empty."}}):t._e()],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("button",{key:t.value?"search-icon":"search-clear",staticClass:"search__icon",class:{search__clear:t.value},on:{click:function(e){t.value&&t.$emit("input","")}}},[n("Icon",{attrs:{icon:t.value?"times":"search"}})],1),n("input",{ref:"input",staticClass:"search__input",attrs:{placeholder:"Search ..."},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})])},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.icon?n(t.getIcon.import,{tag:"component",staticClass:"icon"}):t._e()},s=[];const u=t=>{try{n("f5e0")("./"+t)}catch(e){return!1}return t};var f={computed:{getIcon(){let t=this.icon+"-icon";return{path:u(t),import:()=>n("19c4")("./"+t)}}},props:{icon:{type:String,default:""}}},p=f,d=(n("64e5"),n("2877")),m=Object(d["a"])(p,l,s,!1,null,null,null),b=m.exports,h={components:{Icon:b},model:{prop:"value",event:"input"},props:{value:{type:String,default:""}},mounted(){this.$refs.input.focus()}},v=h,k=(n("d6c0"),Object(d["a"])(v,i,c,!1,null,null,null)),g=k.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"bookmark",class:{"bookmark--active":t.active},attrs:{href:!t.active&&t.data.url?t.data.url:null,title:t.data.title},on:{click:function(e){return t.open(t.data.url)}}},[n("div",{staticClass:"bookmark__background-image",style:"background-image: url(https://img.youtube.com/vi/"+t.data.youtubeId+"/default.jpg)"}),n("div",{staticClass:"bookmark__content"},[n("div",{staticClass:"bookmark__image-container"},[n("img",{staticClass:"bookmark__image",attrs:{src:"https://img.youtube.com/vi/"+t.data.youtubeId+"/default.jpg"}}),t.active?n("Animation",{staticClass:"bookmark__play-animation",attrs:{show:t.playing}}):t._e()],1),n("div",{staticClass:"bookmark__title"},[t._v(t._s(t.data.title))])])])},_=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-animation",class:{"music-animation--hidden":!t.show}},t._l(4,(function(t){return n("div",{key:t,staticClass:"music-animation__bar"})})),0)},O=[],x={props:{show:{type:Boolean,default:!1}}},j=x,C=(n("206f"),Object(d["a"])(j,w,O,!1,null,null,null)),T=C.exports,E={components:{Animation:T},props:{data:{type:Object,default:()=>{}},active:{type:Boolean,default:!1},playing:{type:Boolean,default:!1}},methods:{open(t){this.$emit("open"),this.active||t&&(chrome.tabs.update({active:!0,url:t}),window.close())}}},I=E,$=(n("4dcf"),Object(d["a"])(I,y,_,!1,null,null,null)),S=$.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty-notice"},[t._v(t._s(t.text))])},Y=[],B={props:{text:{type:String,default:"Your YouTube bookmarks list is empty."}}},M=B,P=(n("c669"),Object(d["a"])(M,L,Y,!1,null,null,null)),N=P.exports,z={components:{Search:g,Bookmark:S,EmptyNotice:N},data(){return{filter:"",loaded:!1,bookmarks:[],activeTab:null}},computed:{list(){if(this.filter){let t=this.filter.toLowerCase().trim().split(" "),e=this.bookmarks.filter(e=>{let n=e.title.toLowerCase().trim().split(" "),r=!0;for(let o=0;o<t.length;o++){let e=!1;for(let r=0;r<n.length;r++)if(n[r].indexOf(t[o])>-1){e=!0,n.splice(r,1);break}if(!e){r=!1;break}}if(r)return e});return e}return this.bookmarks}},created(){this.getActiveTab(),this.getBookmarks()},methods:{getBookmarks(){chrome.bookmarks.getTree(t=>{this.bookmarks=this.getYoutubeBookmarks(t),this.loaded=!0})},getYoutubeBookmarks(t){try{const e=[...t],n=e.filter(t=>"0"===t.id)[0].children,r=n.filter(t=>"bookmarks bar"===t.title.toLowerCase())[0].children,o=r.filter(t=>"youtube"===t.title.toLowerCase())[0].children;let a=[];for(let t=0;t<o.length;t++){let e={...o[t]};this.isYoutube(e)&&(e.youtubeId=this.getYoutubeId(e),e.title=this.cleanTitle(e),a.push(e))}return a}catch{}return[]},isYoutube(t){const e=t.url;if(t.title&&e){let t=/^(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;if(e.match(t))return!0}return!1},getYoutubeId(t){let e=t.url,n="";return e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/),void 0!==e[2]?(n=e[2].split(/[^0-9a-z_-]/i),n=n[0]):n=e,n},cleanTitle(t){let e=t.title;return e.split(" - YouTube")[0]},getActiveTab(){chrome.tabs.query({currentWindow:!0,active:!0},t=>{const e=t[0];this.isYoutube(e)&&(this.activeTab={title:this.cleanTitle(e),youtubeId:this.getYoutubeId(e),playing:e.audible})})},scrollToItem(t){const e=66,n=t*e;window.scroll({top:n,left:0,behavior:"smooth"})}}},A=z,D=(n("11aa"),Object(d["a"])(A,o,a,!1,null,null,null)),U=D.exports;r["a"].config.productionTip=!1,new r["a"]({render:t=>t(U)}).$mount("#app")},"11aa":function(t,e,n){"use strict";n("0224")},"19c4":function(t,e,n){var r={"./play-icon":"9f72","./play-icon.vue":"9f72","./search-icon":"eb3d","./search-icon.vue":"eb3d","./times-icon":"d9c1","./times-icon.vue":"d9c1"};function o(t){return Promise.resolve().then((function(){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var o=r[t];return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="19c4",t.exports=o},"206f":function(t,e,n){"use strict";n("365a")},"365a":function(t,e,n){},"3fc9":function(t,e,n){},4776:function(t,e,n){},"4dcf":function(t,e,n){"use strict";n("7829")},"64e5":function(t,e,n){"use strict";n("4776")},7829:function(t,e,n){},"9f72":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[n("path",{attrs:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}})])},o=[],a=n("2877"),i={},c=Object(a["a"])(i,r,o,!1,null,null,null);e["default"]=c.exports},c669:function(t,e,n){"use strict";n("cfa1")},cfa1:function(t,e,n){},d6c0:function(t,e,n){"use strict";n("3fc9")},d9c1:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[n("path",{attrs:{d:"M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"}})])},o=[],a=n("2877"),i={},c=Object(a["a"])(i,r,o,!1,null,null,null);e["default"]=c.exports},eb3d:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}})])},o=[],a=n("2877"),i={},c=Object(a["a"])(i,r,o,!1,null,null,null);e["default"]=c.exports},f5e0:function(t,e,n){var r={"./play-icon":"9f72","./play-icon.vue":"9f72","./search-icon":"eb3d","./search-icon.vue":"eb3d","./times-icon":"d9c1","./times-icon.vue":"d9c1"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id="f5e0"}});
//# sourceMappingURL=popup.120d69df.js.map